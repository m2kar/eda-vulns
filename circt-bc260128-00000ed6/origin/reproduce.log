=== Reproduction Attempt for CIRCT Bug 260128-00000ed6 ===

Test case: source.sv
Expected error: state type must have a known bit width; got '!llhd.ref<i1>'

=== Step 1: Verilog to HW IR conversion ===

✓ circt-verilog completed successfully

=== Generated IR (first 50 lines) ===
module {
  hw.module @MixPorts(in %clk : i1, in %a : i1, out b : i1, in %c : !llhd.ref<i1>) {
    %true = hw.constant true
    %c1_i64 = hw.constant 1 : i64
    %0 = comb.extract %clkin_data from 32 : (i64) -> i1
    %1 = comb.xor %0, %true : i1
    %2 = comb.and %1, %a : i1
    %3 = seq.to_clock %clk
    %4 = comb.mux bin %0, %b, %2 : i1
    %b = seq.firreg %4 clock %3 : i1
    %5 = comb.add %clkin_data, %c1_i64 : i64
    %clkin_data = seq.firreg %5 clock %3 : i64
    hw.output %b : i1
  }
}

=== Step 2: ARC transformation (arcilator) ===

✓ arcilator completed with status: 0

=== Generated LLVM IR (first 60 lines) ===
; ModuleID = 'LLVMDialectModule'
source_filename = "LLVMDialectModule"

declare void @exit(i32)

define void @MixPorts_eval(ptr %0) {
  %2 = load i1, ptr %0, align 1
  %3 = getelementptr i8, ptr %0, i32 3
  %4 = load i1, ptr %3, align 1
  store i1 %2, ptr %3, align 1
  %5 = xor i1 %4, %2
  %6 = and i1 %5, %2
  br i1 %6, label %7, label %21

7:                                                ; preds = %1
  %8 = getelementptr i8, ptr %0, i32 8
  %9 = load i64, ptr %8, align 4
  %10 = getelementptr i8, ptr %0, i32 1
  %11 = load i1, ptr %10, align 1
  %12 = getelementptr i8, ptr %0, i32 4
  %13 = load i1, ptr %12, align 1
  %14 = lshr i64 %9, 32
  %15 = trunc i64 %14 to i1
  %16 = xor i1 %15, true
  %17 = and i1 %16, %11
  %18 = select i1 %15, i1 %13, i1 %17
  store i1 %18, ptr %12, align 1
  %19 = load i64, ptr %8, align 4
  %20 = add i64 %19, 1
  store i64 %20, ptr %8, align 4
  br label %21

21:                                               ; preds = %7, %1
  %22 = getelementptr i8, ptr %0, i32 4
  %23 = load i1, ptr %22, align 1
  %24 = getelementptr i8, ptr %0, i32 16
  store i1 %23, ptr %24, align 1
  ret void
}

!llvm.module.flags = !{!0}

!0 = !{i32 2, !"Debug Info Version", i32 3}

=== Step 3: LLVM optimization (opt -O0) ===

✓ opt -O0 completed with status: 0

=== Step 4: LLVM code generation (llc) ===

✓ llc completed with status: 0

=== Reproduction Result ===
✗ BUG NOT REPRODUCED - Bug appears to be FIXED in current CIRCT version
