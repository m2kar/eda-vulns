{
  "version": "1.0",
  "analysis_timestamp": "2026-01-28T00:00:00Z",
  "search_keywords": [
    "inout",
    "llhd.ref",
    "StateType",
    "LowerState",
    "arcilator",
    "bit width",
    "RefType",
    "tri-state",
    "assertion"
  ],
  "assertion_message": "state type must have a known bit width; got '!llhd.ref<i8>'",
  "dialect": "Arc",
  "search_queries_executed": [
    "inout arcilator",
    "LowerState assertion",
    "StateType bit width",
    "llhd.ref",
    "arcilator inout port",
    "tri-state",
    "arcilator assertion",
    "arcilator crash",
    "state type must have",
    "arc inout",
    "arcilator"
  ],
  "candidate_issues": [
    {
      "number": 8825,
      "title": "[LLHD] Switch from hw.inout to a custom signal reference type",
      "url": "https://github.com/llvm/circt/issues/8825",
      "state": "open",
      "labels": ["LLHD"],
      "score": 4.5,
      "score_breakdown": {
        "title_keyword_match": 2.0,
        "body_keyword_match": 1.0,
        "assertion_match": 0.0,
        "dialect_match": 1.5
      },
      "matching_keywords": ["llhd.ref", "inout"],
      "relevance_notes": "Discusses llhd.ref type for signal references, related to the type that causes our crash. However, this is a feature discussion, not a bug report about assertion failures."
    },
    {
      "number": 8012,
      "title": "[Moore][Arc][LLHD] Moore to LLVM lowering issues",
      "url": "https://github.com/llvm/circt/issues/8012",
      "state": "open",
      "labels": [],
      "score": 3.5,
      "score_breakdown": {
        "title_keyword_match": 2.0,
        "body_keyword_match": 1.0,
        "assertion_match": 0.0,
        "dialect_match": 0.5
      },
      "matching_keywords": ["arcilator", "LLHD"],
      "relevance_notes": "General arcilator lowering issues with LLHD, but focuses on DFF and process ops, not specifically on inout ports or StateType bit width."
    },
    {
      "number": 8286,
      "title": "[circt-verilog][llhd][arcilator] Verilog-to-LLVM lowering issues",
      "url": "https://github.com/llvm/circt/issues/8286",
      "state": "open",
      "labels": [],
      "score": 3.0,
      "score_breakdown": {
        "title_keyword_match": 2.0,
        "body_keyword_match": 1.0,
        "assertion_match": 0.0,
        "dialect_match": 0.0
      },
      "matching_keywords": ["arcilator", "llhd"],
      "relevance_notes": "General arcilator/LLHD lowering issues, but different error types (llhd.constant_time, non-pure operation). Not related to inout ports or StateType."
    },
    {
      "number": 9395,
      "title": "[circt-verilog][arcilator] Arcilator assertion failure",
      "url": "https://github.com/llvm/circt/issues/9395",
      "state": "closed",
      "labels": ["Arc", "ImportVerilog"],
      "score": 4.0,
      "score_breakdown": {
        "title_keyword_match": 2.0,
        "body_keyword_match": 0.5,
        "assertion_match": 0.0,
        "dialect_match": 1.5
      },
      "matching_keywords": ["arcilator", "assertion", "Arc"],
      "relevance_notes": "Arcilator assertion failure, but different assertion (replaceUsesWithIf in DialectConversion.cpp), not StateType bit width issue. Different root cause."
    },
    {
      "number": 9467,
      "title": "[circt-verilog][arcilator] arcilator fails to lower llhd.constant_time generated from simple SV delay (#1)",
      "url": "https://github.com/llvm/circt/issues/9467",
      "state": "open",
      "labels": ["LLHD", "Arc"],
      "score": 3.5,
      "score_breakdown": {
        "title_keyword_match": 2.0,
        "body_keyword_match": 0.5,
        "assertion_match": 0.0,
        "dialect_match": 1.0
      },
      "matching_keywords": ["arcilator", "LLHD", "Arc"],
      "relevance_notes": "Arcilator lowering failure but for llhd.constant_time, not for inout ports or llhd.ref type. Different issue."
    },
    {
      "number": 9260,
      "title": "Arcilator crashes in Upload Release Artifacts CI",
      "url": "https://github.com/llvm/circt/issues/9260",
      "state": "open",
      "labels": ["bug", "Arc"],
      "score": 2.5,
      "score_breakdown": {
        "title_keyword_match": 2.0,
        "body_keyword_match": 0.0,
        "assertion_match": 0.0,
        "dialect_match": 0.5
      },
      "matching_keywords": ["arcilator", "crash"],
      "relevance_notes": "Arcilator crash in CI, but likely unrelated to our specific inout/StateType issue."
    }
  ],
  "similarity_analysis": {
    "max_score": 4.5,
    "top_issue": 8825,
    "threshold_for_duplicate": 7.0,
    "assessment": "No highly similar issues found. The closest match #8825 discusses llhd.ref type but is a feature request for type system changes, not a bug report about assertion failures in LowerState pass."
  },
  "recommendation": "new_issue",
  "recommendation_reason": "No existing issue matches our specific crash scenario: assertion failure in LowerState pass when encountering inout ports (llhd.ref type) in arcilator. The closest issue #8825 discusses llhd.ref but is a feature discussion about type system design, not a bug report. Our issue is a concrete crash with assertion 'state type must have a known bit width' that should be reported as a new bug."
}
