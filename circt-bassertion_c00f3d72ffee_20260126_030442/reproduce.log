=== Reproduction Attempt ===
Timestamp: $(date -Iseconds)
Toolchain: /opt/firtool/bin/
Version: CIRCT firtool-1.139.0, LLVM 22.0.0git

=== Original Command (from error.txt) ===
/edazz/FeatureFuzz-SV/target/circt-1.139.0/bin/circt-verilog --ir-hw /tmp/featurefuzz_sv_85ldhy3n/test_c00f3d72ffee.sv | /edazz/FeatureFuzz-SV/target/circt-1.139.0/bin/arcilator | /edazz/FeatureFuzz-SV/target/circt-1.139.0/bin/opt -O0 | /edazz/FeatureFuzz-SV/target/circt-1.139.0/bin/llc -O0 --filetype=obj -o /tmp/featurefuzz_sv_85ldhy3n/test_c00f3d72ffee.o

=== Adapted Command (current toolchain) ===
/opt/firtool/bin/circt-verilog --ir-hw ./source.sv | /opt/firtool/bin/arcilator

=== Execution Output ===
; ModuleID = 'LLVMDialectModule'
source_filename = "LLVMDialectModule"

declare void @exit(i32)

define void @MixedPorts_eval(ptr %0) {
  %2 = load i1, ptr %0, align 1
  %3 = getelementptr i8, ptr %0, i32 32
  %4 = load i1, ptr %3, align 1
  store i1 %2, ptr %3, align 1
  %5 = xor i1 %4, %2
  %6 = and i1 %5, %2
  br i1 %6, label %7, label %15

7:                                                ; preds = %1
  %8 = getelementptr i8, ptr %0, i32 16
  %9 = load [16 x i8], ptr %8, align 1
  %10 = getelementptr i8, ptr %0, i32 1
  %11 = load i8, ptr %10, align 1
  %12 = alloca [16 x i8], align 4
  store [16 x i8] %9, ptr %12, align 1
  %13 = getelementptr [16 x i8], ptr %12, i32 0, i32 15
  store i8 %11, ptr %13, align 1
  %14 = load [16 x i8], ptr %12, align 1
  store [16 x i8] %14, ptr %8, align 1
  br label %15

15:                                               ; preds = %7, %1
  %16 = getelementptr i8, ptr %0, i32 16
  %17 = load [16 x i8], ptr %16, align 1
  %18 = alloca [16 x i8], align 4
  store [16 x i8] %17, ptr %18, align 1
  %19 = getelementptr [16 x i8], ptr %18, i32 0, i32 15
  %20 = load i8, ptr %19, align 1
  %21 = getelementptr i8, ptr %0, i32 33
  store i8 %20, ptr %21, align 1
  ret void
}

!llvm.module.flags = !{!0}

!0 = !{i32 2, !"Debug Info Version", i32 3}
Exit code: 0

=== Result ===
The crash was NOT reproduced with the current toolchain.
Original error: state type must have a known bit width; got '!llhd.ref<i8>'
Current result: Success (LLVM IR generated)
