{
  "search_summary": {
    "date": "2026-01-31",
    "keywords_searched": [
      "arcilator inout",
      "llhd.ref StateType",
      "LowerState arc",
      "StateType",
      "computeLLVMBitWidth",
      "bidirectional",
      "bit width assertion",
      "arcilator LLHD",
      "arc tristate",
      "inout port",
      "arc state",
      "Arc label",
      "llhd.ref",
      "arcilator",
      "inout SystemVerilog",
      "verilog inout"
    ],
    "total_issues_found": 15,
    "most_relevant_count": 3
  },
  "most_relevant_duplicates": [
    {
      "issue_number": 9395,
      "title": "[circt-verilog][arcilator] Arcilator assertion failure",
      "state": "CLOSED",
      "created": "2025-12-29T16:25:43Z",
      "closed": "2026-01-19T11:24:22Z",
      "labels": ["Arc", "ImportVerilog"],
      "similarity_score": 0.95,
      "reason": "Very similar arcilator assertion failure in arc dialect. Different assertion (ConversionPatternRewriter error), but same domain (arcilator/Arc/SystemVerilog). Closed recently (Jan 19, 2026) - likely contains root cause analysis or fix related to our issue.",
      "key_details": "Assertion failure in arcilator when processing SystemVerilog with always @* blocks. The failure occurs in ConvertToArcs pass, same pass involved in our StateType crash."
    },
    {
      "issue_number": 8825,
      "title": "[LLHD] Switch from hw.inout to a custom signal reference type",
      "state": "OPEN",
      "created": "2025-08-06T04:38:33Z",
      "labels": ["LLHD"],
      "similarity_score": 0.90,
      "reason": "Directly addresses our root cause: This issue proposes creating !llhd.ref<T> type to replace hw.inout. Our crash involves !llhd.ref<i1> types that StateType cannot handle. This is the architectural issue underlying our bug.",
      "key_details": "Discusses need for custom signal reference type to support LLHD time and other non-HW types in signal slots. Our crash is symptomatic of the incomplete transition to llhd.ref."
    },
    {
      "issue_number": 9467,
      "title": "[circt-verilog][arcilator] `arcilator` fails to lower `llhd.constant_time` generated from simple SV delay (`#1`)",
      "state": "OPEN",
      "created": "2026-01-20T17:10:39Z",
      "labels": ["LLHD", "Arc"],
      "similarity_score": 0.85,
      "reason": "Related LLHD to Arc conversion failure. Different type (llhd.constant_time vs llhd.ref<i1>), but same ConvertToArcs pass and same pipeline (circt-verilog -> arcilator). Shows systematic issues with LLHD-to-Arc conversion.",
      "key_details": "LLHD constant_time op not supported in ConvertToArcs pass. Shows that LLHD dialect has multiple ops not properly handled by Arc conversion."
    }
  ],
  "related_issues": [
    {
      "issue_number": 8286,
      "title": "[circt-verilog][llhd][arcilator] Verilog-to-LLVM lowering issues",
      "state": "OPEN",
      "labels": [],
      "similarity_score": 0.75,
      "reason": "Documents multiple failures in Verilog-to-LLVM pipeline including llhd.constant_time legalization failure. Related to overall LLHD lowering issues."
    },
    {
      "issue_number": 8012,
      "title": "[Moore][Arc][LLHD] Moore to LLVM lowering issues",
      "state": "OPEN",
      "labels": [],
      "similarity_score": 0.70,
      "reason": "Moore/Arc/LLHD integration issues including process lowering failures. Shows broader ecosystem problems with LLHD to Arc conversion."
    },
    {
      "issue_number": 8065,
      "title": "[LLHD][Arc] Indexing and slicing lowering from Verilog to LLVM IR",
      "state": "OPEN",
      "labels": [],
      "similarity_score": 0.68,
      "reason": "User reports arcilator failures with indexing/slicing in LLHD-generated IR. Shows multiple patterns of LLHD types failing in Arc conversion."
    },
    {
      "issue_number": 8845,
      "title": "[circt-verilog] `circt-verilog` produces non `comb`/`seq` dialects including `cf` and `llhd`",
      "state": "OPEN",
      "labels": ["LLHD", "Verilog/SystemVerilog", "ImportVerilog"],
      "similarity_score": 0.65,
      "reason": "Root cause tracking: circt-verilog produces LLHD dialect which is not fully supported in arcilator. This is the upstream problem."
    },
    {
      "issue_number": 5566,
      "title": "[SV] Crash in `P/BPAssignOp` verifiers for `hw.inout` ports",
      "state": "OPEN",
      "labels": ["bug", "good first issue", "Verilog/SystemVerilog"],
      "similarity_score": 0.60,
      "reason": "hw.inout handling issues in SystemVerilog. Relevant since our issue involves inout ports generating llhd.ref types."
    },
    {
      "issue_number": 4916,
      "title": "[Arc] LowerState: nested arc.state get pulled in wrong clock tree",
      "state": "OPEN",
      "labels": ["Arc"],
      "similarity_score": 0.58,
      "reason": "LowerStatePass related issue. Our crash occurs during LowerStatePass execution."
    }
  ],
  "closed_issues_analysis": [
    {
      "issue_number": 9466,
      "title": "[circt-verilog][arcilator] `arcilator` fails to lower `llhd.constant_time` generated from simple SV delay (`#1`)",
      "state": "CLOSED",
      "created": "2026-01-20T17:10:39Z",
      "closed": "2026-01-17T18:15:54Z",
      "note": "This is the same issue appearing in both OPEN and CLOSED lists. Check if this is a duplicate entry or recent fix."
    },
    {
      "issue_number": 9469,
      "title": "[circt-verilog][arcilator] Inconsistent compilation behavior: direct array indexing in always_ff sensitivity list vs. intermediate wire",
      "state": "CLOSED",
      "created": "2026-01-25T05:13:52Z",
      "similarity_score": 0.72,
      "note": "Recent closure (Jan 25, 2026). Shows active bug fixing in arcilator. May indicate fixes being rolled out."
    },
    {
      "issue_number": 9417,
      "title": "[Arc][arcilator] `hw.bitcast` Data Corruption for Aggregate Types with Non-Power-of-2 Element Widths in Arc",
      "state": "CLOSED",
      "created": "2026-01-07T19:50:10Z",
      "similarity_score": 0.68,
      "note": "Type width handling issues in Arc. Related to bit width computation problems."
    }
  ],
  "conclusion": {
    "duplicate_status": "LIKELY DUPLICATE or CLOSELY RELATED",
    "most_likely_match": "Issue #9395 (closed) or the broader architectural issue #8825 (open)",
    "recommendation": "Check issue #9395 for similar arcilator assertion failures and any recent fixes. The root cause appears to be the incomplete transition from hw.inout to llhd.ref<T> type system (issue #8825), which causes StateType to receive unsupported LLHD ref types from inout port conversion."
  }
}
