{
  "version": "1.0",
  "search_queries": [
    "arcilator inout",
    "LowerState",
    "llhd.ref",
    "state type must have a known bit width",
    "arcilator RefType",
    "StateType",
    "arcilator",
    "bit width",
    "inout port",
    "Arc assertion"
  ],
  "total_results": 28,
  "top_matches": [
    {
      "issue_number": 8825,
      "title": "[LLHD] Switch from hw.inout to a custom signal reference type",
      "url": "https://github.com/llvm/circt/issues/8825",
      "state": "open",
      "similarity_score": 6.5,
      "matched_keywords": ["llhd.ref", "RefType", "LLHD", "inout"],
      "summary": "Proposes creating llhd.ref<T> type to represent signal references. Discusses why hw.inout is limited and llhd::RefType is needed. Related to our bug as it discusses the llhd.ref type that causes the assertion failure."
    },
    {
      "issue_number": 4916,
      "title": "[Arc] LowerState: nested arc.state get pulled in wrong clock tree",
      "url": "https://github.com/llvm/circt/issues/4916",
      "state": "open",
      "similarity_score": 5.0,
      "matched_keywords": ["Arc", "LowerState", "arc.state"],
      "summary": "Bug in LowerState pass where nested arc.state operations are pulled into wrong clock tree. Related pass (LowerState) but different issue - nested states vs RefType handling."
    },
    {
      "issue_number": 5053,
      "title": "[Arc] LowerState: combinatorial cycle reported in cases where there is none",
      "url": "https://github.com/llvm/circt/issues/5053",
      "state": "closed",
      "similarity_score": 4.5,
      "matched_keywords": ["Arc", "LowerState"],
      "summary": "LowerState incorrectly reports combinatorial cycles. Different bug type but same pass involved. Closed issue."
    },
    {
      "issue_number": 9467,
      "title": "[circt-verilog][arcilator] arcilator fails to lower llhd.constant_time",
      "url": "https://github.com/llvm/circt/issues/9467",
      "state": "open",
      "similarity_score": 4.0,
      "matched_keywords": ["arcilator", "LLHD", "failed to legalize"],
      "summary": "Arcilator cannot lower llhd.constant_time from SV delays. Similar pattern (arcilator failing on LLHD ops) but different specific operation."
    },
    {
      "issue_number": 8012,
      "title": "[Moore][Arc][LLHD] Moore to LLVM lowering issues",
      "url": "https://github.com/llvm/circt/issues/8012",
      "state": "open",
      "similarity_score": 4.0,
      "matched_keywords": ["arcilator", "LLHD", "Arc"],
      "summary": "Arcilator fails on DFF with llhd.process not supported by ConvertToArcs. Similar issue category (arcilator + LLHD unsupported ops) but different specific problem."
    },
    {
      "issue_number": 8332,
      "title": "[MooreToCore] Support for StringType from moore to llvm dialect",
      "url": "https://github.com/llvm/circt/issues/8332",
      "state": "open",
      "similarity_score": 2.5,
      "matched_keywords": ["arcilator", "RefType"],
      "summary": "Discussion about adding IntType and RefType in sim dialect for arcilator. Mentions RefType but in different context."
    },
    {
      "issue_number": 5566,
      "title": "[SV] Crash in P/BPAssignOp verifiers for hw.inout ports",
      "url": "https://github.com/llvm/circt/issues/5566",
      "state": "open",
      "similarity_score": 3.0,
      "matched_keywords": ["inout", "crash"],
      "summary": "Crash when using hw.inout input ports with sv.passign. Different crash location but same theme of inout port handling issues."
    },
    {
      "issue_number": 8286,
      "title": "[circt-verilog][llhd][arcilator] Verilog-to-LLVM lowering issues",
      "url": "https://github.com/llvm/circt/issues/8286",
      "state": "open",
      "similarity_score": 3.5,
      "matched_keywords": ["arcilator", "LLHD"],
      "summary": "Various arcilator lowering issues with combinational and sequential logic. General arcilator LLHD issues but different specific problems."
    },
    {
      "issue_number": 9395,
      "title": "[circt-verilog][arcilator] Arcilator assertion failure",
      "url": "https://github.com/llvm/circt/issues/9395",
      "state": "closed",
      "similarity_score": 3.0,
      "matched_keywords": ["arcilator", "assertion"],
      "summary": "MLIR assertion failure in arcilator with combinational assert. Different assertion and cause."
    },
    {
      "issue_number": 6810,
      "title": "[Arc] Add basic assertion support",
      "url": "https://github.com/llvm/circt/issues/6810",
      "state": "open",
      "similarity_score": 2.0,
      "matched_keywords": ["Arc", "assert"],
      "summary": "Feature request for adding assertion support to Arc dialect. Not related to our bug."
    }
  ],
  "recommendation": "new_issue",
  "recommendation_reason": "No existing issues match the specific assertion failure 'state type must have a known bit width' with llhd::RefType. Issue #8825 discusses llhd.ref type design but does not report this specific crash in LowerState pass. The highest similarity score is 6.5, below the threshold of 8.0 for high confidence duplicates.",
  "timestamp": "2026-01-28T11:16:30+00:00"
}
